---
metric_id: metric-aws-kinesis-datastream-open-shard-count
name: Open Shard Count
metric_type: GAUGE
resource_type: inventory.CloudService:aws.Kinesis.DataStream
query_options:
  group_by:
    - key: account
      name: Account ID
    - key: region_code
      name: Region
      reference:
        resource_type: inventory.Region
        reference_key: region_code
    - key: data.stream_status_display
      name: Status
    - key: data.retention_period_display
      name: Data Retention Period
    - key: data.encryption_display
      name: Encryption
    - key: data.consumers_vo.num_of_consumers
      name: Consumers with Enhanced Fan-out
    - key: data.stream_arn
      name: ARN
    - key: data.encryption_type
      name: Encryption Type
    - key: data.key_id
      name: Encryption Key ID
    - key: data.closed_shards_num
      name: Closed Shards
    - key: data.shards.shard_id
      name: Shard IDs
    - key: data.shards.parent_shard_id
      name: Parent Shard IDs
    - key: data.retention_period_hours
      name: Retention Hours
    - key: data.retention_period_days
      name: Retention Days
    - key: data.consumers_vo.consumer_name
      name: Consumer Names
    - key: data.consumers_vo.consumer_arn
      name: Consumer ARNs
  fields:
    value:
      operator: sum
      key: data.open_shards_num
unit: Count
namespace_id: ns-aws-kinesis-datastream
version: '1.0'
